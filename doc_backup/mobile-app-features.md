# 모바일 앱 주요 기능 및 푸시 알림 계획

## 1. 모바일 앱 개요

빌딩 관리 시스템의 모바일 앱은 현장에서 업무를 수행하는 관리자와 직원들이 효율적으로 정보에 접근하고 업무를 처리할 수 있도록 설계됩니다. 특히 푸시 알림 기능을 통해 중요한 이벤트와 업무를 실시간으로 통지하여 신속한 대응이 가능하도록 합니다.

## 2. 사용자 역할별 모바일 앱 기능

### 2.1 회사 대표용 기능

- **대시보드**: 핵심 경영 지표 요약 보기
- **건물 상태**: 모든 건물의 현재 상태 및 주요 이슈 한눈에 보기
- **알림 센터**: 중요 사안에 대한 승인 및 결재
- **성과 보고서**: 주요 경영 보고서 모바일 조회
- **메시지 센터**: 관리자와의 직접 커뮤니케이션

### 2.2 회계 담당자용 기능

- **재무 대시보드**: 주요 재무 지표 모바일 확인
- **비용 승인**: 현장에서 발생하는 비용 실시간 승인
- **청구서 관리**: 청구서 확인 및 처리 현황 관리
- **예산 알림**: 예산 초과 및 중요 지출 알림
- **보고서 조회**: 재무 관련 보고서 모바일 접근

### 2.3 건물 소장용 기능

- **건물 상태 모니터링**: 담당 건물의 실시간 상태 확인
- **이슈 관리**: 발생한 이슈 조회, 할당, 상태 업데이트
- **업무 지시**: 직원들에게 업무 할당 및 진행 상황 확인
- **점검 체크리스트**: 정기 점검 항목 모바일 기록
- **현장 사진 업로드**: 현장 상황 사진 촬영 및 보고
- **직원 관리**: 현장 직원 출근 확인 및 업무 할당
- **긴급 연락망**: 비상 상황시 신속한 연락 기능

### 2.4 경리 과장용 기능

- **문서 관리**: 중요 문서 모바일 확인 및 승인
- **관리비 현황**: 관리비 청구 및 수납 현황 확인
- **청구서 스캔**: 영수증/청구서 모바일 스캔 및 등록
- **마감일 관리**: 중요 업무 마감일 알림 및 상태 추적
- **결재 요청**: 경비 지출 결재 요청 및 상태 확인

## 3. 푸시 알림 체계

### 3.1 알림 유형 및 중요도

#### 긴급 알림 (빨간색)

- 건물 내 안전 사고 발생
- 화재/누수와 같은 긴급 상황
- 보안 위반 사항
- 시스템 장애 발생

#### 중요 알림 (주황색)

- 업무 마감일 임박 (24시간 이내)
- 대규모 비용 지출 승인 요청
- 계약 만료 임박 (7일 이내)
- 미해결 이슈 지연 알림

#### 일반 알림 (파란색)

- 새로운 업무 할당
- 업무 상태 변경
- 문서 승인 요청
- 메시지 수신

#### 정보성 알림 (회색)

- 정기 보고서 생성 완료
- 시스템 업데이트 알림
- 일정 정보 알림

### 3.2 역할별 알림 설정 기본값

| 알림 유형      | 회사 대표   | 회계 담당자         | 건물 소장      | 경리 과장      |
| -------------- | ----------- | ------------------- | -------------- | -------------- |
| 긴급 안전 알림 | 모든 건물   | ×                   | 담당 건물만    | ×              |
| 이슈 생성      | 주요 이슈만 | ×                   | 담당 건물 전체 | 문서 관련만    |
| 업무 할당      | ×           | 재무 관련만         | 담당 건물 전체 | 문서 관련만    |
| 비용 승인 요청 | 대규모만    | 전체                | 일정 금액 이상 | 담당 건물 전체 |
| 계약 관련      | 주요 계약만 | 재무 영향 있는 것만 | 담당 건물 전체 | 전체           |
| 마감일 알림    | 주요 업무만 | 재무 관련만         | 담당 건물 전체 | 문서 관련 전체 |
| 보고서 생성    | 전체        | 재무 관련만         | 담당 건물만    | 관련 건물만    |

### 3.3 알림 전달 방식

- **앱 내 알림**: 모든 알림은 앱 내 알림 센터에 저장
- **푸시 알림**: 중요도에 따라 설정 가능
  - 긴급: 항상 푸시 알림 (무음 모드 무시 옵션)
  - 중요: 기본적으로 푸시 알림 활성화
  - 일반/정보성: 사용자 설정에 따라 푸시 알림 여부 결정
- **이메일 알림**: 중요 알림에 대한 이메일 동시 발송 옵션
- **SMS 알림**: 긴급 알림에 대한 SMS 발송 옵션 (비상 연락망)

### 3.4 알림 관리 기능

- **알림 필터링**: 유형, 건물, 중요도 등으로 필터링
- **알림 그룹화**: 유사한 알림 그룹화하여 정리
- **알림 설정**:
  - 유형별 알림 활성화/비활성화
  - 알림 수신 시간대 설정 (예: 업무 시간 내에만)
  - 알림 방식 설정 (푸시, 이메일, SMS)
- **방해 금지 모드**: 긴급 알림을 제외한 알림 차단 기능
- **알림 로그**: 과거 알림 이력 조회 및 검색

## 4. 주요 푸시 알림 시나리오

### 4.1 업무 관련 알림

- **업무 할당**: "{담당자}님에게 '{업무명}' 업무가 할당되었습니다"
- **마감일 임박**: "'{업무명}' 업무의 마감이 24시간 남았습니다"
- **업무 상태 변경**: "'{업무명}' 업무가 '{이전상태}'에서 '{현재상태}'로 변경되었습니다"
- **업무 완료 승인**: "'{업무명}' 업무 완료 보고서 승인이 필요합니다"

### 4.2 이슈 관련 알림

- **새 이슈 등록**: "{건물명}에 '{이슈제목}' 이슈가 보고되었습니다 (우선순위: {우선순위})"
- **이슈 할당**: "{담당자}님에게 '{이슈제목}' 이슈가 할당되었습니다"
- **이슈 상태 업데이트**: "'{이슈제목}' 이슈가 '{현재상태}'(으)로 업데이트되었습니다"
- **미해결 이슈 알림**: "'{이슈제목}' 이슈가 {N}일째 미해결 상태입니다"

### 4.3 문서/계약 관련 알림

- **결재 요청**: "'{문서제목}' 문서의 결재가 요청되었습니다"
- **계약 만료 임박**: "{임차인명}과의 계약이 {N}일 후 만료됩니다"
- **문서 업로드**: "{사용자명}님이 '{문서제목}' 문서를 업로드했습니다"
- **결재 완료**: "'{문서제목}' 문서가 승인되었습니다"

### 4.4 재무 관련 알림

- **비용 승인 요청**: "{건물명}에서 {금액}원의 지출 승인이 요청되었습니다"
- **예산 초과 경고**: "{건물명}의 {카테고리} 비용이 월간 예산의 90%를 초과했습니다"
- **관리비 미납**: "{건물명}의 {N}개 호실에서 관리비 미납이 발생했습니다"
- **청구서 발행**: "{건물명}의 {월}월 관리비 청구서가 발행되었습니다"

### 4.5 안전/긴급 알림

- **안전 사고 보고**: "{건물명}에서 안전 사고가 보고되었습니다. 즉시 확인이 필요합니다"
- **설비 고장**: "{건물명}의 {설비명}에 고장이 보고되었습니다"
- **보안 경고**: "{건물명}에서 보안 위반 사항이 감지되었습니다"
- **점검 알림**: "{건물명}의 {점검유형} 정기 점검이 {N}일 후로 예정되어 있습니다"

## 5. 오프라인 지원 및 데이터 동기화

### 5.1 오프라인 기능

- **기본 정보 캐싱**: 건물 정보, 연락처 등 중요 정보 오프라인 접근 가능
- **최근 업무/이슈**: 최근에 접근한 업무 및 이슈 오프라인 조회
- **오프라인 작업**: 네트워크 연결 없이 양식 작성, 사진 촬영 등 가능
- **자동 동기화**: 네트워크 연결 시 자동으로 서버와 데이터 동기화

### 5.2 데이터 동기화 전략

- **선택적 동기화**: 모바일 데이터 사용 최적화를 위한 콘텐츠 선택적 다운로드
- **백그라운드 동기화**: Wi-Fi 연결 시 자동 백그라운드 동기화
- **충돌 해결**: 데이터 충돌 발생 시 해결 방안 제공
- **데이터 압축**: 모바일 환경에 최적화된 데이터 전송

## 6. 모바일 기능 개발 로드맵

### 6.1 1단계: 핵심 기능 (1차 개발)

- 사용자 인증 및 기본 프로필
- 역할별 기본 대시보드
- 알림 센터 및 기본 푸시 알림
- 업무/이슈 조회 기능
- 기본 문서 조회 기능

### 6.2 2단계: 확장 기능 (1차 개발)

- 업무/이슈 관리 (생성, 할당, 상태 업데이트)
- 현장 사진 업로드 및 보고 기능
- 고급 알림 설정 및 필터링
- 오프라인 지원 강화
- 문서 승인 워크플로우

### 6.3 3단계: 관리비 및 고급 기능 (2차 개발)

- 관리비 청구 및 납부 현황 모니터링
- 고급 분석 및 보고서 모바일 최적화
- 위치 기반 서비스 연동
- 바코드/QR 코드 스캔 기능
- 음성 메모 및 음성 명령

### 6.4 4단계: 통합 및 최적화 (2차 개발)

- 웨어러블 기기 연동 (알림 수신)
- 생체 인증 강화
- 푸시 알림 AI 최적화 (사용자 행동 기반)
- 성능 및 배터리 최적화
- 앱 사용성 개선

## 7. 모바일 앱 기술 스택

- **프레임워크**: React Native (iOS/Android 크로스 플랫폼)
- **상태 관리**: Redux 또는 Context API
- **푸시 알림**: Firebase Cloud Messaging (FCM)
- **오프라인 데이터**: Redux Persist, AsyncStorage
- **API 통신**: Axios, React Query
- **인증**: JWT 기반 인증, 생체 인증 (지문, 얼굴 인식)
- **데이터 동기화**: GraphQL Subscriptions 또는 WebSocket
- **분석 및 모니터링**: Firebase Analytics, Crashlytics

## 8. 모바일 앱 보안 계획

- **보안 인증**: 다중 인증(MFA) 지원
- **데이터 암호화**: 앱 내 저장 데이터 암호화
- **세션 관리**: 자동 로그아웃, 세션 타임아웃 설정
- **비밀번호 정책**: 강력한 비밀번호 요구, 주기적 변경 유도
- **원격 제어**: 분실 장치 원격 데이터 삭제 기능
- **접근 제어**: 역할 기반 액세스 제어 (RBAC)
- **앱 무결성**: 루팅/탈옥 감지, 앱 변조 감지
