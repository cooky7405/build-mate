# 빌딩 관리 시스템 기획서

## 1. 프로젝트 개요

본 프로젝트는 빌딩 관리자와 직원들이 효율적으로 건물 관리를 할 수 있도록 지원하는 모바일 및 웹 애플리케이션입니다. 1차 개발과 2차 개발로 나누어 진행됩니다.

## 2. 개발 계획

### 1차 개발 (Phase 1)

- **개발 기간**: 2023년 Q3
- **주요 기능**:
  - 건물 리스트 관리
  - 업무 지시 사항 관리
  - 건물 이슈 추적 및 관리
  - 모바일 앱 개발 (푸시 알람 기능 중심)

### 2차 개발 (Phase 2)

- **개발 기간**: 2023년 Q4
- **주요 기능**:
  - 빌딩 관리비 계산 및 관리
  - 1차 개발 기능 개선 및 확장

## 3. 기능 상세 설명

### 3.1 건물 리스트 관리

- **목적**: 관리자가 모든 건물을 효율적으로 관리할 수 있는 시스템 제공
- **주요 기능**:
  - 건물 등록/수정/삭제 기능 : SUPER_ADMIN이상만 가능함
  - 건물 정보 상세 조회 (주소, 규모, 층수, 입주사 등) : BUILDING_MANAGER 이상만 가능함
  - 건물별 관리 담당자 지정 : SUPER_ADMIN이상만 가능함
  - 건물 상태 모니터링 대시보드 : BUILDING_MANAGER 이상만 가능함
  - 건물별 통계 정보 제공 (이슈 발생 빈도, 처리 시간 등) : BUILDING_MANAGER 이상만 가능함

### 3.2 업무 지시 사항 관리

- **목적**: 관리자가 직원들에게 업무를 효율적으로 배분하고 진행 상황을 추적
- **주요 기능**:
  - 업무 생성 및 할당
  - 우선순위 설정
  - 마감일 설정 및 알림
  - 업무 진행 상태 추적 (대기중, 진행중, 완료, 지연)
  - 반복 업무 자동화 설정
  - 업무 완료 보고서 작성 및 제출
  - 업무 히스토리 조회

### 3.3 건물 이슈 관리

- **목적**: 건물에서 발생하는 문제를 신속하게 보고하고 해결하는 프로세스 지원
- **주요 기능**:
  - 이슈 등록 (카테고리, 위치, 우선순위, 사진 첨부)
  - 이슈 할당 및 담당자 지정
  - 이슈 처리 상태 추적
  - 이슈 해결 보고 및 문서화
  - 이슈 통계 및 분석 리포트
  - 반복 발생 이슈 패턴 분석

### 3.4 모바일 앱 기능 (푸시 알람 위주)

- **목적**: 실시간으로 중요 정보를 전달하고 신속한 대응 유도
- **주요 기능**:
  - 긴급 이슈 발생 알림
  - 업무 할당 알림
  - 업무 마감일 임박 알림
  - 이슈 상태 변경 알림
  - 건물 점검 일정 알림
  - 알림 설정 개인화
  - 알림을 통한 빠른 액션 실행 (바로가기)

<!-- ### 3.5 빌딩 관리비 관리 (Phase 2)

- **목적**: 건물 운영 비용을 효율적으로 관리하고 투명하게 정산
- **주요 기능**:
  - 관리비 항목 설정 (전기, 수도, 가스, 청소, 보안 등)
  - 관리비 청구서 생성 및 관리
  - 납부 현황 추적
  - 미납 알림 자동화
  - 관리비 분석 및 리포트 (월별, 분기별, 연도별)
  - 관리비 절감 제안 시스템
  - 전자 영수증 발행 -->

## 4. 기술 스택

- **프론트엔드**: React, Next.js, Tailwind CSS
- **백엔드**: Next.js
- **데이터베이스**: mysql
  <!-- - **모바일 앱**: React Native -->
  <!-- - **푸시 알림**: Firebase Cloud Messaging
- **인증**: JWT 기반 인증 시스템
- **클라우드 서비스**: AWS 또는 Azure -->

## 5. 사용자 역할 및 권한

- **슈퍼 관리자**: 시스템 전체 관리, 모든 기능 접근 권한, 업무 지시 등록
- **빌딩 관리자**: 특정 건물 관리, 이슈 관리
- **빌딩 소장**: 업무 지시 수행 및 보고, 이슈 등록 및 처리
- **일반 유저**: 처음 가입한 유저.

## 6. 코딩 규칙 및 가이드라인

### 6.1 ESLint 규칙

- **사용하지 않는 변수 처리**:

  - 사용하지 않는 변수는 선언하지 않거나, 선언해야 하는 경우 catch 블록에서는 파라미터를 완전히 생략해야 합니다.
  - 언더스코어로 시작하는 변수(예: `_error`)도 ESLint에서 사용하지 않는 변수로 간주하므로 사용하지 않습니다.
  - 예: `catch (error) { ... }` 대신 `catch { ... }` 사용

- **Next.js API 라우트 구조**:

  - Next.js 15.3.1 버전에서는 API 라우트에서 `authOptions`를 직접 export하지 않고 별도 파일로 분리해야 합니다.
  - `app/api/auth/[...nextauth]/authOptions.ts` 파일에 `authOptions`를 정의하고, `route.ts`에서는 이를 import하여 사용합니다.

- **타입 안전성**:
  - 모든 함수와 변수에 적절한 타입을 지정합니다.
  - `any` 타입 사용을 최소화하고, 구체적인 타입을 사용합니다.

### 6.2 코드 구조

- **컴포넌트 구조**:

  - 페이지 컴포넌트는 `app` 디렉토리 아래에 위치합니다.
  - 재사용 가능한 컴포넌트는 `components` 디렉토리에 위치합니다.
  - 유틸리티 함수는 `utils` 디렉토리에 위치합니다.

- **인증 및 권한**:
  - 인증 관련 로직은 `app/api/auth` 디렉토리에 위치합니다.
  - 권한 확인은 `utils/auth.ts` 파일의 함수를 사용합니다.

### 6.3 명명 규칙

- **파일명**:

  - 컴포넌트 파일은 PascalCase를 사용합니다 (예: `Navigation.tsx`).
  - 유틸리티 파일은 camelCase를 사용합니다 (예: `auth.ts`).

- **변수 및 함수명**:
  - 변수와 함수는 camelCase를 사용합니다.
  - 컴포넌트는 PascalCase를 사용합니다.
  - 상수는 UPPER_SNAKE_CASE를 사용합니다.

## 7. UI/UX 디자인 가이드라인

- 직관적이고 사용하기 쉬운 인터페이스
- 모바일 환경에 최적화된 반응형 디자인
- 명확한 시각적 피드백과 상태 표시
- 다크 모드 지원
- 접근성 고려

## 8. 데이터 보안 및 백업

<!-- - 정기적인 데이터 백업 시스템 -->
<!-- - 암호화된 데이터 저장 -->

- 역할 기반 접근 제어
<!-- - 개인정보 보호 규정 준수 -->

## 9. 향후 확장 계획

- 에너지 효율성 모니터링 시스템
- IoT 센서 연동을 통한 실시간 건물 상태 모니터링
- AI 기반 예측 유지보수 시스템
- 입주사 포털 통합
