# 빌딩 관리 시스템 개발 로드맵

## 1. 프로젝트 개요

**프로젝트명**: 빌딩 관리 시스템 (Building Management System)
**개발 기간**: 총 8개월 (1차 개발 4개월, 2차 개발 4개월)
**개발 시작일**: 2025년 4월 28일
**1차 개발 완료 예정일**: 2025년 6월 31일
**2차 개발 완료 예정일**: 2023년 8월 31일

## 2. 개발 팀 구성

- **프로젝트 매니저**: 1명
- **프론트엔드 개발자**: 2명
- **백엔드 개발자**: 2명
- **모바일 앱 개발자**: 1명
- **UI/UX 디자이너**: 1명
- **QA 엔지니어**: 1명
- **DevOps 엔지니어**: 1명 (파트타임)

## 3. 1차 개발 로드맵 (Phase 1)

### 3.1 기획 및 설계 단계 (1개월: 3월)

#### 주 1-2: 요구사항 분석 및 기획

- 요구사항 정의 및 문서화
- 사용자 페르소나 및 사용자 경험 흐름 설계
- 주요 기능 우선순위 설정
- 기술 스택 결정

#### 주 3-4: 시스템 설계

- 데이터베이스 스키마 설계
- API 설계 및 문서화
- 아키텍처 설계
- UI/UX 디자인 가이드라인 작성
- 프로토타입 제작

### 3.2 기본 인프라 및 핵심 기능 개발 (1개월: 4월)

#### 주 1-2: 인프라 및 기본 구조 설정

- 개발/테스트/운영 환경 구축
- CI/CD 파이프라인 설정
- 인증 시스템 구현 (로그인, 회원가입, 권한 관리)
- 기본 프로젝트 구조 설정

#### 주 3-4: 건물 관리 기능 개발

- 건물 등록/조회/수정/삭제 기능
- 건물 상세 정보 관리
- 건물 담당자 할당 기능
- 건물 리스트 조회 및 필터링 기능

### 3.3 업무 지시 및 이슈 관리 기능 개발 (1개월: 5월)

#### 주 1-2: 업무 지시 사항 관리 기능

- 업무 생성 및 할당 기능(SUPER-ADMin 이상)
- 업무 상태 관리 및 추적 기능( 업무별, 빌딩별로 가능 해야 됨)
- 업무 템플릿 별 관리 기능
- 업무 완료 보고서 제출 기능
- 업무 알림 기능

#### 주 3-4: 건물 이슈 관리 기능

- 이슈 등록 및 보고 기능
- 이슈 할당 및 상태 관리
- 이슈 해결 보고 기능
- 이슈 통계 및 대시보드

### 3.4 모바일 앱 및 푸시 알림 개발 (1개월: 6월)

#### 주 1-2: 모바일 앱 개발

- 모바일 앱 기본 구조 및 UI 구현
- 모바일 인증 및 권한 관리
- 오프라인 지원 및 데이터 동기화
- 반응형 UI 최적화

#### 주 3-4: 푸시 알림 및 통합 테스트

- 푸시 알림 시스템 구현
- 알림 설정 및 관리 기능
- 통합 테스트 및 버그 수정
- 사용자 매뉴얼 및 문서 작성
- 1차 개발 기능 최종 점검 및 배포 준비

### 3.5 1차 개발 배포 및 안정화 (2주: 7월 초)

- 프로덕션 환경 배포
- 모니터링 시스템 가동
- 초기 사용자 피드백 수집
- 버그 수정 및 안정화

## 4. 2차 개발 로드맵 (Phase 2)

### 4.1 관리비 시스템 설계 (1개월: 7월)

#### 주 1-2: 관리비 시스템 설계 및 기획

- 관리비 모듈 상세 요구사항 정의
- 관리비 계산 로직 설계
- 관리비 청구 및 납부 프로세스 설계
- 입주사 관리 기능 상세 설계

#### 주 3-4: 데이터베이스 및 API 확장

- 관리비 관련 데이터베이스 스키마 확장
- 관리비 관련 API 설계 및 문서화
- 기존 시스템과의 통합 포인트 정의
- 프로토타입 제작 및 검증

### 4.2 입주사 관리 및 기본 관리비 기능 개발 (1개월: 8월)

#### 주 1-2: 입주사 관리 기능

- 입주사 등록/조회/수정/삭제 기능
- 계약 정보 관리
- 입주사별 유닛/공간 관리
- 입주사 담당자 관리

#### 주 3-4: 기본 관리비 기능

- 관리비 항목 설정 기능
- 관리비 산정 기준 설정
- 관리비 계산 엔진 구현
- 월별 관리비 생성 기능

### 4.3 관리비 청구 및 납부 관리 기능 개발 (1개월: 9월)

#### 주 1-2: 관리비 청구 기능

- 관리비 청구서 생성 기능
- 청구서 발송 및 알림 기능
- 청구 내역 조회 및 관리
- 청구서 템플릿 관리

#### 주 3-4: 납부 관리 기능

- 납부 상태 추적 및 관리
- 미납 관리 및 알림 기능
- 납부 내역 조회 및 보고서
- 영수증 발행 기능

### 4.4 관리비 분석 및 리포팅 기능 개발 (1개월: 10월)

#### 주 1-2: 분석 및 리포팅 기능

- 관리비 분석 대시보드
- 기간별 비교 분석 기능
- 항목별 비용 분석
- 비용 절감 제안 시스템

#### 주 3-4: 최종 통합 및 테스트

- 기존 시스템과의 완전한 통합
- 종합 테스트 및 버그 수정
- 성능 최적화 및 보안 점검
- 사용자 매뉴얼 업데이트 및 교육 자료 준비

### 4.5 최종 배포 및 안정화 (2주: 11월 초)

- 프로덕션 환경 최종 배포
- 모니터링 강화
- 사용자 피드백 수집 및 대응
- 안정화 및 운영 이관

## 5. 마일스톤 및 중요 일정

### 5.1 1차 개발 마일스톤

- **M1**: 요구사항 분석 및 설계 완료 - 2023년 3월 31일
- **M2**: 인프라 및 건물 관리 기능 개발 완료 - 2023년 4월 30일
- **M3**: 업무 지시 및 이슈 관리 기능 개발 완료 - 2023년 5월 31일
- **M4**: 모바일 앱 및 푸시 알림 개발 완료 - 2023년 6월 30일
- **M5**: 1차 개발 배포 및 안정화 - 2023년 7월 15일

### 5.2 2차 개발 마일스톤

- **M6**: 관리비 시스템 설계 완료 - 2023년 7월 31일
- **M7**: 입주사 관리 및 기본 관리비 기능 개발 완료 - 2023년 8월 31일
- **M8**: 관리비 청구 및 납부 관리 기능 개발 완료 - 2023년 9월 30일
- **M9**: 관리비 분석 및 리포팅 기능 개발 완료 - 2023년 10월 31일
- **M10**: 최종 배포 및 안정화 - 2023년 11월 15일

## 6. 품질 관리 및 테스트 계획

### 6.1 테스트 유형

- 단위 테스트 (개발자)
- 통합 테스트 (QA 팀)
- 사용자 수용 테스트 (UAT)
- 성능 테스트
- 보안 테스트

### 6.2 테스트 일정

- 각 기능 개발 완료 후 1주일 이내 단위 테스트 완료
- 각 개발 단계 완료 2주 전 통합 테스트 시작
- 각 배포 2주 전 사용자 수용 테스트 진행
- 배포 1주 전 성능 및 보안 테스트 완료

## 7. 리스크 관리

### 7.1 잠재적 리스크

- 요구사항 변경으로 인한 일정 지연
- 모바일 앱과 웹 앱 간 기능 일관성 유지 문제
- 데이터 마이그레이션 및 통합 문제
- 사용자 적응 및 교육 문제

### 7.2 리스크 대응 방안

- 변경 관리 프로세스 수립 및 우선순위 조정 체계 마련
- 모바일/웹 공통 비즈니스 로직 설계 및 API 중심 아키텍처 채택
- 점진적 데이터 마이그레이션 전략 및 롤백 계획 수립
- 사용자 매뉴얼 및 교육 동영상 제작, 헬프데스크 운영

## 8. 배포 및 운영 계획

### 8.1 배포 전략

- 단계적 배포 (테스트 그룹 → 일부 사용자 → 전체 사용자)
- 블루/그린 배포 방식 활용
- 배포 자동화 및 롤백 시나리오 준비

### 8.2 운영 계획

- 24/7 모니터링 시스템 구축
- 이슈 트래킹 및 대응 프로세스 수립
- 정기 유지보수 일정 수립 (월 1회)
- 사용 통계 분석 및 개선 계획 수립

## 9. 향후 확장 계획 (2024년 이후)

### 9.1 3차 개발 계획 (예정)

- 에너지 효율성 모니터링 시스템
- IoT 센서 연동 실시간 건물 상태 모니터링
- AI 기반 예측 유지보수 시스템
- 고급 분석 및 BI 대시보드

### 9.2 사용자 피드백 기반 지속적 개선

- 분기별 주요 사용자 피드백 수집 및 분석
- 연 2회 주요 기능 업데이트 계획
- UX 개선 및 최적화 작업

## 10. 개발 환경 및 기술 스택( 이 프로젝트는 모바일 작업은 하지 않고 다른 앱 프로젝트에서 진행함 )

### 10.1 프론트엔드

- **웹 애플리케이션**: Next.js (React 기반 프레임워크)
  - TypeScript
  - CSS-in-JS (Styled Components 또는 Emotion)
  - 상태 관리: Redux 또는 Recoil
  - UI 컴포넌트: Tailwind CSS 또는 Material UI
  - 테스트: Jest, React Testing Library

### 10.2 백엔드

- **서버**: Next.js (API Routes)
  - TypeScript
  - 데이터베이스 ORM: Prisma
  - 인증: NextAuth.js
  - API 문서화: Swagger/OpenAPI
  - 테스트: Jest, Supertest

### 10.3 모바일 앱

- **프레임워크**: React Native
  - TypeScript
  - 상태 관리: Redux 또는 MobX
  - 네비게이션: React Navigation
  - 오프라인 저장소: AsyncStorage 또는 Realm
  - 테스트: Jest, React Native Testing Library

### 10.4 데이터베이스

- **개발 환경**: SQLite
- **서비스 환경**: MySQL
- **데이터베이스 추상화**: Prisma ORM을 활용하여 환경 간 데이터베이스 전환 시 코드 변경 최소화
- **마이그레이션 관리**: Prisma Migrate를 통한 스키마 버전 관리
- **캐싱**: Redis
- **검색 엔진**: Elasticsearch (필요시)

### 10.5 인프라 및 DevOps

- **클라우드 플랫폼**: AWS 또는 Azure
- **컨테이너화**: Docker
- **오케스트레이션**: Kubernetes
- **CI/CD**: GitHub Actions 또는 Jenkins
- **모니터링**: Prometheus, Grafana
- **로깅**: ELK Stack

### 10.6 개발 도구

- **버전 관리**: Git, GitHub
- **이슈 트래킹**: Jira
- **문서화**: Confluence
- **커뮤니케이션**: Slack, Discord
- **API 개발 도구**: Postman, Insomnia

## [부록] Next.js 15 기준 추천 프로젝트 폴더 구조

### 1. 최상위 디렉토리 구조 예시

```
/project-root
│
├── app/                # Next.js App Router 기반 페이지(라우트) 폴더
│   ├── layout.tsx      # 전체 레이아웃
│   ├── page.tsx        # 메인 페이지
│   ├── dashboard/      # 대시보드 관련 라우트
│   ├── auth/           # 인증(로그인, 회원가입 등) 라우트
│   ├── api/            # API 라우트 (Next.js API Route)
│   └── ...             # 기타 페이지
│
├── components/         # 재사용 가능한 UI 컴포넌트
│   ├── common/         # 공통 컴포넌트(버튼, 모달 등)
│   └── ...             # 도메인별 컴포넌트
│
├── prisma/             # Prisma 관련 파일
│   └── schema.prisma   # Prisma 스키마
│
├── public/             # 정적 파일(이미지, 폰트 등)
│
├── styles/             # 전역 스타일, Tailwind 등
│
├── utils/              # 유틸리티 함수, 헬퍼 함수
│
├── doc/                # 기획, 개발, 화면설계 등 문서
│
├── .env                # 환경 변수 파일
├── package.json
├── tsconfig.json
└── README.md
```

### 2. 폴더별 역할

- **app/**  
  Next.js의 App Router 기반 라우트(페이지, API, 레이아웃 등)

  - `/app/api` 하위에 API 라우트(예: `/app/api/auth/login/route.ts`)
  - `/app/auth` 하위에 로그인, 회원가입 등 인증 관련 페이지

- **components/**  
  재사용 가능한 UI 컴포넌트(버튼, 카드, 모달 등)

  - 도메인별로 하위 폴더 분리 가능

- **prisma/**  
  Prisma ORM 관련 파일(스키마, 마이그레이션 등)

- **public/**  
  정적 파일(이미지, favicon, 폰트 등)

- **styles/**  
  전역 CSS, Tailwind 설정 등

- **utils/**  
  인증, 날짜, 포맷 등 유틸리티 함수

- **doc/**  
  기획, 개발, 화면설계, API 명세 등 문서

### 3. 추가 팁

- 도메인별로 app 하위에 폴더를 나누면 유지보수에 유리  
  예) `/app/buildings`, `/app/tenants`, `/app/contracts` 등
- API 라우트는 app/api/ 하위에 RESTful하게 구성  
  예) `/app/api/buildings/route.ts`, `/app/api/auth/login/route.ts`
- 컴포넌트는 최대한 재사용성을 고려해 설계
- 문서화(doc) 폴더는 항상 최신화
- 환경별 .env 파일 분리(.env, .env.development, .env.production 등)

### 참고

- doc/web-pages-structure.md, doc/development-roadmap.md, doc/building-management-plan.md 등 문서와 일치하도록 구조를 맞추면 협업과 유지보수에 매우 유리합니다.

## AI 개발 도구 사용 시 주의사항

빌딩메이트 프로젝트에서 AI 코드 생성 도구를 사용할 때 다음 사항에 유의해야 합니다:

1. **UI 컴포넌트 추가 시 shadcn 패키지 사용**

   - 반드시 shadcn 패키지를 사용해야 하며, 더 이상 shadcn-ui 패키지를 사용하지 않습니다.

   ```bash
   # 잘못된 사용법 (사용 금지)
   npx shadcn-ui@latest add [component-name]

   # 올바른 사용법
   npx shadcn@latest add [component-name]
   ```

2. **Next.js 15.3.1 API 라우트 처리 방식**

   - API 라우트의 params, searchParams, cookies, headers 등이 모두 Promise 타입으로 변경되었습니다.
   - API 라우트 핸들러 작성 시 반드시 다음 패턴을 따르세요:

   ```typescript
   // 올바른 방법 (Next.js 15.3.1)
   interface RouteParams {
     id: string;
   }

   export async function GET(
     req: Request,
     context: { params: Promise<RouteParams> }
   ) {
     const params = await context.params; // await 필수!
     const { id } = params;

     // ... 로직
   }
   ```

3. **페이지 컴포넌트에서 Promise 기반 API 접근 시 use() 사용**

   - 페이지 컴포넌트에서 params, searchParams 등에 접근할 때는 React.use()를 활용합니다.
   - 페이지 컴포넌트 함수의 매개변수 타입에 Promise를 명시해야 합니다.

   ```typescript
   // 올바른 방법 (Next.js 15.3.1)
   interface PageParams {
     id: string;
   }

   export default function Page({ params }: { params: Promise<PageParams> }) {
     const { id } = use(params);

     // ... 로직
   }
   ```

자세한 개발 가이드라인은 `doc/ai-development-rules.md` 파일을 참고하세요.
